import { Toaster } from 'react-hot-toast';
import { Route, Routes } from 'react-router-dom';
import ProtectedRoute from './components/auth/ProtectedRoute';
import DataManagementPage from './pages/admin/DataManagementPage';
import SettingsPage from './pages/admin/SettingsPage';
import SystemHealthPage from './pages/admin/SystemHealthPage';
import UserManagementPage from './pages/admin/UserManagementPage';
import AdminDashboard from './pages/dashboards/AdminDashboard';
import ManagerDashboard from './pages/dashboards/ManagerDashboard';
import StaffDashboard from './pages/dashboards/StaffDashboard';
import LandingPage from './pages/LandingPage';
import LoginPage from './pages/LoginPage';
import AlertsPage from './pages/manager/AlertsPage';
import ForecastingPage from './pages/manager/ForecastingPage';
import InventoryPage from './pages/manager/InventoryPage';
import SalesAnalyticsPage from './pages/manager/SalesAnalyticsPage';
import SupplierManagementPage from './pages/manager/SupplierManagementPage';
import POSPage from './pages/staff/POSPage';
import SalesHistoryPage from './pages/staff/SalesHistoryPage';

function App() {
  return (
    <>
      <Toaster position="top-center" reverseOrder={false} />
      <Routes>
        <Route path="/" element={<LandingPage />} />
        <Route path="/login" element={<LoginPage />} />
        <Route
          path="/admin"
          element={
            <ProtectedRoute allowedRoles={['ADMIN', 'SUPERADMIN']}>
              <AdminDashboard />
            </ProtectedRoute>
          }
        >
          <Route path="users" element={<UserManagementPage />} />
          <Route path="health" element={<SystemHealthPage />} />
          <Route path="data" element={<DataManagementPage />} />
          <Route path="settings" element={<SettingsPage />} />
        </Route>
        <Route
          path="/manager"
          element={
            <ProtectedRoute allowedRoles={['MANAGER']}>
              <ManagerDashboard />
            </ProtectedRoute>
          }
        >
          <Route path="inventory" element={<InventoryPage />} />
          <Route path="alerts" element={<AlertsPage />} />
          <Route path="suppliers" element={<SupplierManagementPage />} />
          <Route path="analytics" element={<SalesAnalyticsPage />} />
          <Route path="forecasting" element={<ForecastingPage />} />
        </Route>
        <Route
          path="/staff"
          element={
            <ProtectedRoute allowedRoles={['STAFF']}>
              <StaffDashboard />
            </ProtectedRoute>
          }
        >
          <Route path="pos" element={<POSPage />} />
          <Route path="history" element={<SalesHistoryPage />} />
        </Route>
      </Routes>
    </>
  );
}

export default App;
